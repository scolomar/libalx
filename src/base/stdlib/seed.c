/******************************************************************************
 *	The code given here is all public domain			      *
 ******************************************************************************/


/******************************************************************************
 ******* include **************************************************************
 ******************************************************************************/
#include "libalx/base/stdlib/seed.h"

#include <stdint.h>


/******************************************************************************
 ******* define ***************************************************************
 ******************************************************************************/


/******************************************************************************
 ******* enum / struct / union ************************************************
 ******************************************************************************/


/******************************************************************************
 ******* static prototypes ****************************************************
 ******************************************************************************/


/******************************************************************************
 ******* global functions *****************************************************
 ******************************************************************************/
extern
void	alx_prsrand	(void);

extern
uint32_t alx_prseed	(void);

/*	Robert Jenkins' 96 bit Mix Function	*/
uint32_t alx_seed_mix(uint32_t a, uint32_t b, uint32_t c)
{

	a -=	b + c;
	a ^=	c >> 13;
	b -=	c + a;
	b ^=	a << 8;
	c -=	a + b;
	c ^=	b >> 13;
	a -=	b + c;
	a ^=	c >> 12;
	b -=	a + c;
	b ^=	a << 16;
	c -=	a + b;
	c ^=	b >> 5;
	a -=	b + c;
	a ^=	c >> 3;
	b -=	a + c;
	b ^=	a << 10;
	c -=	a + b;
	c ^=	b >> 15;

	return	c;
}


/******************************************************************************
 ******* alias ****************************************************************
 ******************************************************************************/
ALX_ALIAS_WEAK_DEF(prsrand,	alx_prsrand);
ALX_ALIAS_WEAK_DEF(prseed,	alx_prseed);


/******************************************************************************
 ******* static function definitions ******************************************
 ******************************************************************************/


/******************************************************************************
 ******* end of file **********************************************************
 ******************************************************************************/
